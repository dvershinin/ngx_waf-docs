(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{409:function(e,t,a){"use strict";a.r(t);var r=a(46),d=Object(r.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"change-log-current"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#change-log-current"}},[e._v("#")]),e._v(" Change Log (Current)")]),e._v(" "),a("p",[e._v("The format is based on "),a("a",{attrs:{href:"https://keepachangelog.com/en/1.0.0/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Keep a Changelog"),a("OutboundLink")],1),e._v(",\nand this project adheres to "),a("a",{attrs:{href:"https://semver.org/spec/v2.0.0.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Semantic Versioning"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("What is a breaking change?")]),e._v(" "),a("ul",[a("li",[e._v("The original configuration file may not work, for example, if a directive item is removed or renamed.")]),e._v(" "),a("li",[e._v("It may be necessary to update the build environment, such as installing new dependencies.")])])]),e._v(" "),a("h2",{attrs:{id:"unreleased"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unreleased"}},[e._v("#")]),e._v(" [Unreleased]")]),e._v(" "),a("h3",{attrs:{id:"added"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#added"}},[e._v("#")]),e._v(" Added")]),e._v(" "),a("h3",{attrs:{id:"removed"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#removed"}},[e._v("#")]),e._v(" Removed")]),e._v(" "),a("h3",{attrs:{id:"changed"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#changed"}},[e._v("#")]),e._v(" Changed")]),e._v(" "),a("h3",{attrs:{id:"fixed"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fixed"}},[e._v("#")]),e._v(" Fixed")]),e._v(" "),a("hr"),e._v(" "),a("h2",{attrs:{id:"_9-0-1-2021-09-24-utc-0800"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-0-1-2021-09-24-utc-0800"}},[e._v("#")]),e._v(" [9.0.1] - 2021-09-24 UTC+0800")]),e._v(" "),a("h3",{attrs:{id:"fixed-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fixed-2"}},[e._v("#")]),e._v(" Fixed")]),e._v(" "),a("ul",[a("li",[e._v("Failed to load rules of ModSecurity.")])]),e._v(" "),a("hr"),e._v(" "),a("h2",{attrs:{id:"_9-0-0-2021-09-23-utc-0800"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-0-0-2021-09-23-utc-0800"}},[e._v("#")]),e._v(" [9.0.0] - 2021-09-23 UTC+0800")]),e._v(" "),a("h3",{attrs:{id:"note"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#note"}},[e._v("#")]),e._v(" "),a("strong",[e._v("NOTE")])]),e._v(" "),a("p",[e._v("If you would like to upgrade to this version, please see the documentation for guidelines on upgrading across versions.")]),e._v(" "),a("h3",{attrs:{id:"added-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#added-2"}},[e._v("#")]),e._v(" Added")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Compatible with "),a("a",{attrs:{href:"https://github.com/SpiderLabs/ModSecurity",target:"_blank",rel:"noopener noreferrer"}},[e._v("ModSecurity"),a("OutboundLink")],1),e._v(".")])]),e._v(" "),a("li",[a("p",[e._v("Added two directives: "),a("code",[e._v("waf_modsecurity")]),e._v(" and "),a("code",[e._v("waf_modsecurity_transaction_id")]),e._v(".")])]),e._v(" "),a("li",[a("p",[e._v("Added parameter "),a("code",[e._v("MODSECURITY")]),e._v(" to directive "),a("code",[e._v("waf_priority")]),e._v(".")])])]),e._v(" "),a("h3",{attrs:{id:"removed-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#removed-2"}},[e._v("#")]),e._v(" Removed")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Removed some parameters for directive "),a("code",[e._v("waf_mode")]),e._v(": "),a("code",[e._v("LIBINJECTION")]),e._v(", "),a("code",[e._v("LIBINJECTION-SQLI")]),e._v(", "),a("code",[e._v("LIBINJECTION-XSS")]),e._v(" and "),a("code",[e._v("ADV")]),e._v(".")])]),e._v(" "),a("li",[a("p",[e._v("Removed the parameter "),a("code",[e._v("ADV")]),e._v(" from the directive "),a("code",[e._v("waf_priority")]),e._v(".")])]),e._v(" "),a("li",[a("p",[e._v("Removed dependency "),a("a",{attrs:{href:"https://github.com/libinjection/libinjection",target:"_blank",rel:"noopener noreferrer"}},[e._v("libinjection"),a("OutboundLink")],1),e._v(".")])])]),e._v(" "),a("h3",{attrs:{id:"fixes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fixes"}},[e._v("#")]),e._v(" Fixes")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("No longer returns a 404 status code when the captcha succeeds, but a 204 status code instead.")])]),e._v(" "),a("li",[a("p",[e._v("Sometimes a complete inspection of the request body is not performed.")])])]),e._v(" "),a("hr"),e._v(" "),a("h2",{attrs:{id:"_8-0-3-2021-08-27-utc-0800"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-0-3-2021-08-27-utc-0800"}},[e._v("#")]),e._v(" [8.0.3] - 2021-08-27 UTC+0800")]),e._v(" "),a("h3",{attrs:{id:"fixed-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fixed-3"}},[e._v("#")]),e._v(" Fixed")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Memory leak.")])]),e._v(" "),a("li",[a("p",[e._v("A field of a structure is not initialized, so you will see a lot of "),a("code",[e._v("malloc(size) failed (12: Out of memory)")]),e._v(" in the error log.")])])]),e._v(" "),a("hr"),e._v(" "),a("h2",{attrs:{id:"_8-0-2-2021-08-27-utc-0800"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-0-2-2021-08-27-utc-0800"}},[e._v("#")]),e._v(" [8.0.2] - 2021-08-27 UTC+0800")]),e._v(" "),a("h3",{attrs:{id:"fixed-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fixed-4"}},[e._v("#")]),e._v(" Fixed")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("nginx crashes(segmentation fault) after enabling CAPTCHA because the directive "),a("code",[e._v("waf_captcha")]),e._v(" was not properly merged with different contexts.")])]),e._v(" "),a("li",[a("p",[e._v("CAPTCHA page cannot be displayed because the directive "),a("code",[e._v("waf_captcha")]),e._v(" was not properly merged with different contexts.")])]),e._v(" "),a("li",[a("p",[e._v("If the directive "),a("code",[e._v("proxy_pass")]),e._v(" is used, neither Under-Attack-Mode nor CAPTCHA will work properly.")])])]),e._v(" "),a("hr"),e._v(" "),a("h2",{attrs:{id:"_8-0-1-2021-08-23-utc-0800"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-0-1-2021-08-23-utc-0800"}},[e._v("#")]),e._v(" [8.0.1] - 2021-08-23 UTC+0800")]),e._v(" "),a("h3",{attrs:{id:"added-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#added-3"}},[e._v("#")]),e._v(" Added")]),e._v(" "),a("ul",[a("li",[e._v("No longer generates additional response headers when CC protection returns the status code 444.")])]),e._v(" "),a("h3",{attrs:{id:"fixed-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fixed-5"}},[e._v("#")]),e._v(" Fixed")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Segmentation fault when "),a("code",[e._v("User-Agent")]),e._v(" is empty.")])]),e._v(" "),a("li",[a("p",[e._v("The directive "),a("code",[e._v("waf_http_status")]),e._v(" could not be merged correctly.")])])]),e._v(" "),a("hr"),e._v(" "),a("h2",{attrs:{id:"_8-0-0-2021-08-21-utc-0800"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-0-0-2021-08-21-utc-0800"}},[e._v("#")]),e._v(" [8.0.0] - 2021-08-21 UTC+0800")]),e._v(" "),a("h3",{attrs:{id:"note-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#note-2"}},[e._v("#")]),e._v(" "),a("strong",[e._v("NOTE")])]),e._v(" "),a("p",[e._v("If you would like to upgrade to this version, please see the documentation for guidelines on upgrading across versions.")]),e._v(" "),a("h3",{attrs:{id:"added-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#added-4"}},[e._v("#")]),e._v(" Added")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Introduced CAPTCHAs for third-party platforms, supporting hCaptcha, reCAPTCHAv2 and reCAPTCHAv3, with the associated directive "),a("code",[e._v("waf_captcha")]),e._v(".")])]),e._v(" "),a("li",[a("p",[e._v("Support recognizing friendly crawlers, including GooleBot, BingBot, BaiduSpider and YandexBot, and automatically allow them after successful recognition, the related command is "),a("code",[e._v("waf_verify_bot")]),e._v(".")])]),e._v(" "),a("li",[a("p",[e._v("CC protection supports enabling CAPTCHA mode, which enables CAPTCHA when the request rate exceeds the limit, and blocks the IP if the CAPTCHA fails three times in a row, and recounts the request rate on the contrary.")])])]),e._v(" "),a("h3",{attrs:{id:"changed-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#changed-2"}},[e._v("#")]),e._v(" Changed")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("The syntax of the directive "),a("code",[e._v("waf_mode")]),e._v(" has changed, see the documentation for a guide to cross-version upgrades.")])]),e._v(" "),a("li",[a("p",[e._v("The syntax of the directive "),a("code",[e._v("waf_cc_deny")]),e._v(" has changed, see the documented guide to cross-version upgrades for details.")])]),e._v(" "),a("li",[a("p",[e._v("The syntax of the directive "),a("code",[e._v("waf_cache")]),e._v(" has been changed, see the cross-version upgrade guide in the documentation.")])]),e._v(" "),a("li",[a("p",[e._v("Support for modifying the priority of request body inspection.")])])]),e._v(" "),a("h3",{attrs:{id:"removed-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#removed-3"}},[e._v("#")]),e._v(" Removed")]),e._v(" "),a("ul",[a("li",[e._v("Removed two parameters of the directive "),a("code",[e._v("waf_cache")]),e._v(": "),a("code",[e._v("interval")]),e._v(" and "),a("code",[e._v("percent")]),e._v(".")])]),e._v(" "),a("hr"),e._v(" "),a("h2",{attrs:{id:"_7-1-0-2021-08-16-utc-0800"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-0-2021-08-16-utc-0800"}},[e._v("#")]),e._v(" [7.1.0] - 2021-08-16 UTC+0800")]),e._v(" "),a("h3",{attrs:{id:"added-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#added-5"}},[e._v("#")]),e._v(" Added")]),e._v(" "),a("ul",[a("li",[e._v("The parameter "),a("code",[e._v("rate")]),e._v(" of the directive "),a("code",[e._v("waf_cc_deny")]),e._v(" allows more formats, such as "),a("code",[e._v("500r/s")]),e._v(", "),a("code",[e._v("500r/60s")]),e._v(", "),a("code",[e._v("500r/m")]),e._v(", "),a("code",[e._v("500r/60m")]),e._v(", "),a("code",[e._v("500r/h")]),e._v(", "),a("code",[e._v("500r/60h")]),e._v(" and "),a("code",[e._v("500r/d")]),e._v(".")])]),e._v(" "),a("hr"),e._v(" "),a("h2",{attrs:{id:"_7-0-1-2021-08-11-utc-0800"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-0-1-2021-08-11-utc-0800"}},[e._v("#")]),e._v(" [7.0.1] - 2021-08-11 UTC+0800")]),e._v(" "),a("h3",{attrs:{id:"fixed-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fixed-6"}},[e._v("#")]),e._v(" Fixed")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Failed to parse "),a("code",[e._v("0.0.0.0/0")]),e._v(" correctly when handling IP black and white lists.")])]),e._v(" "),a("li",[a("p",[e._v("Compatible with environments that do not support IPV6.")])])]),e._v(" "),a("hr"),e._v(" "),a("h2",{attrs:{id:"_7-0-0-2021-08-04-utc-0800"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-0-0-2021-08-04-utc-0800"}},[e._v("#")]),e._v(" [7.0.0] - 2021-08-04 UTC+0800")]),e._v(" "),a("h3",{attrs:{id:"changed-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#changed-3"}},[e._v("#")]),e._v(" Changed")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Changed the way Under Attack Mode is implemented. It is no longer implemented using redirects, but by modifying the response body.")])]),e._v(" "),a("li",[a("p",[e._v("Removed directive "),a("code",[e._v("uri")]),e._v(" from configuration item "),a("code",[e._v("waf_under_attack")]),e._v(", see documentation for details.")])]),e._v(" "),a("li",[a("p",[e._v("Added a directive "),a("code",[e._v("file")]),e._v(" to the configuration item "),a("code",[e._v("waf_under_attack")]),e._v(" whose value should be the absolute path to an HTML file, see the documentation for details.")])]),e._v(" "),a("li",[a("p",[e._v("The directive "),a("code",[e._v("waf_cc_deny")]),e._v(" is not allowed at the context "),a("code",[e._v("http")]),e._v("。")])])])])}),[],!1,null,null,null);t.default=d.exports}}]);